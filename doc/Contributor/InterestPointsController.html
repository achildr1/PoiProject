<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Contributor::InterestPointsController
  
    &mdash; Capstone Hot Spots
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (I)</a> &raquo;
    <span class='title'>Contributor</span>
     &raquo; 
    <span class="title">InterestPointsController</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Contributor::InterestPointsController
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../InterestPointsController.html" title="InterestPointsController (class)">InterestPointsController</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActionController::Base</li>
          
            <li class="next"><span class='object_link'><a href="../ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></li>
          
            <li class="next"><span class='object_link'><a href="../InterestPointsController.html" title="InterestPointsController (class)">InterestPointsController</a></span></li>
          
            <li class="next">Contributor::InterestPointsController</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">app/controllers/contributor/interest_points_controller.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This <tt>Interest Points Controller</tt> should be used for all actions available
to a contributor.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Ashley Childress</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Version:</p>
<ul class="version">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>3.6.2014</p>
</div>
      
    </li>
  
</ul>

</div>






  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#active-instance_method" title="#active (instance method)">- (Object) <strong>active</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Display a list of all <tt>Interest Points</tt> created by the <tt>current user</tt> and
have been approved by an application administrator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#edit-instance_method" title="#edit (instance method)">- (Object) <strong>edit</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>end.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pending-instance_method" title="#pending (instance method)">- (Object) <strong>pending</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Display a list of all <tt>Interest Points</tt> created by the <tt>current user</tt> and
have not yet been approved.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_default_image-instance_method" title="#update_default_image (instance method)">- (Object) <strong>update_default_image</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../InterestPointsController.html" title="InterestPointsController (class)">InterestPointsController</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../InterestPointsController.html#average_rating-instance_method" title="InterestPointsController#average_rating (method)">#average_rating</a></span>, <span class='object_link'><a href="../InterestPointsController.html#create-instance_method" title="InterestPointsController#create (method)">#create</a></span>, <span class='object_link'><a href="../InterestPointsController.html#destroy-instance_method" title="InterestPointsController#destroy (method)">#destroy</a></span>, <span class='object_link'><a href="../InterestPointsController.html#index-instance_method" title="InterestPointsController#index (method)">#index</a></span>, <span class='object_link'><a href="../InterestPointsController.html#new-instance_method" title="InterestPointsController#new (method)">#new</a></span>, <span class='object_link'><a href="../InterestPointsController.html#show-instance_method" title="InterestPointsController#show (method)">#show</a></span>, <span class='object_link'><a href="../InterestPointsController.html#update-instance_method" title="InterestPointsController#update (method)">#update</a></span></p>

  
  
  
  
  
  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="active-instance_method">
  
    - (<tt>Object</tt>) <strong>active</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Display a list of all <tt>Interest Points</tt> created by the <tt>current user</tt> and
have been approved by an application administrator.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Preconditions:</p>
<ul class="pre">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>the <tt>current user</tt> must be a valid contributor</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Postconditions:</p>
<ul class="post">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>All <tt>Interest Points</tt> created by the <tt>current user</tt> that are approved will
be loaded as a resource in this <tt>Interest Points Controller</tt> and displayed
to the user.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/contributor/interest_points_controller.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_active'>active</span>
	<span class='ivar'>@interest_points</span> <span class='op'>=</span> <span class='const'>InterestPoint</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>contributor_id:</span> <span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_current_ability'>current_ability</span><span class='period'>.</span><span class='id identifier rubyid_can'>can</span> <span class='symbol'>:read</span><span class='comma'>,</span> <span class='ivar'>@interest_points</span>
	<span class='id identifier rubyid_render'>render</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="edit-instance_method">
  
    - (<tt>Object</tt>) <strong>edit</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>end</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/contributor/interest_points_controller.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_edit'>edit</span>
	
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pending-instance_method">
  
    - (<tt>Object</tt>) <strong>pending</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Display a list of all <tt>Interest Points</tt> created by the <tt>current user</tt> and
have not yet been approved.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Preconditions:</p>
<ul class="pre">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>the <tt>current user</tt> must be a valid contributor</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Postconditions:</p>
<ul class="post">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>All <tt>Interest Points</tt> created by the <tt>current user</tt> that are not yet
approved will be loaded as a resource in this <tt>Interest Points Controller</tt>
and displayed to the user.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/contributor/interest_points_controller.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pending'>pending</span>
	<span class='ivar'>@interest_points</span> <span class='op'>=</span> <span class='const'>InterestPoint</span><span class='period'>.</span><span class='id identifier rubyid_pending'>pending</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>contributor_id:</span> <span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_current_ability'>current_ability</span><span class='period'>.</span><span class='id identifier rubyid_can'>can</span> <span class='symbol'>:read</span><span class='comma'>,</span> <span class='ivar'>@interest_points</span>
	<span class='id identifier rubyid_render'>render</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_default_image-instance_method">
  
    - (<tt>Object</tt>) <strong>update_default_image</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/contributor/interest_points_controller.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_default_image'>update_default_image</span>
	<span class='ivar'>@interest_point</span> <span class='op'>=</span> <span class='const'>InterestPoint</span><span class='period'>.</span><span class='id identifier rubyid_find_by'>find_by</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:interest_point_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_authorize!'>authorize!</span> <span class='symbol'>:update_default_image</span><span class='comma'>,</span> <span class='ivar'>@interest_point</span>
	<span class='kw'>if</span> <span class='ivar'>@interest_point</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='label'>default_image_id:</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:image_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='kw'>if</span> <span class='ivar'>@interest_point</span><span class='period'>.</span><span class='id identifier rubyid_default_image'>default_image</span><span class='period'>.</span><span class='id identifier rubyid_pending'>pending</span><span class='period'>.</span><span class='id identifier rubyid_eql?'>eql?</span> <span class='kw'>true</span>
		<span class='id identifier rubyid_flash'>flash</span><span class='lbracket'>[</span><span class='symbol'>:error</span><span class='rbracket'>]</span>	<span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The default image is pending, and will not be displayed in the application for users without permission to access pending Images. Consider changing the default image to an approved version, or approve the default image so it can be displayed.</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>else</span>					
			<span class='id identifier rubyid_flash'>flash</span><span class='lbracket'>[</span><span class='symbol'>:notice</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default Image was successfully set!</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span>
<span class='kw'>else</span>
	<span class='id identifier rubyid_flash'>flash</span><span class='lbracket'>[</span><span class='symbol'>:error</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Something went wrong and the default image for this Interest Point could not be set. Please try again.</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span>					
	<span class='id identifier rubyid_render'>render</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>edit</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Mar 13 18:53:12 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.3 (ruby-2.0.0).
</div>

  </body>
</html>