<div class="panel panel-info">
  <div class="panel-heading clearfix">
    <h1>All Users</h1>
    <% if can? :create, User %>
      <div class="btn-group pull-right">  
        <%= default_create_button('Create New User', new_user_path) %>
      </div>
    <% end %>
  </div>

<table class="table">
	<thead>
		<tr>
			<th>Id</th>
			<th>User Name</th>
			<th>Name</th>
      <th>Role</th>
			<th>Email</th>
			<th>Created On</th>
			<th></th>
		</tr>
	</thead>	
	<tbody>
		<% @users.each do |user| %>
			<tr>
				<td><%= user.id %></td>
				<td><%= link_to user.user_name, user %></td>
				<td><%= user.first_name %> <%= user.last_name %></td>
				<td><%= user.role.name %></td>
				<td><%= mail_to(user.email) do %><%= user.email %><% end %></td>
				<td><%= user.created_at %></td>
				<td><% if can? :edit, user %><%= link_to 'Edit', edit_user_path(user), class: 'btn btn-xs btn-success' %><% end %>
					<% if can? :delete, user %><%= link_to 'Delete', user_path(user), method: :delete, data: { confirm: 'Are you sure you want to delete this User?'}, class: 'btn btn-xs btn-danger' %><% end %>
				</td>
			</tr>
		<% end %>
	</tbody>
</table>
</div>